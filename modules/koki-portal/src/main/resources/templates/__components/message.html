<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div class="message" th:fragment="message-bubble(message)">
    <div class="text-small">
        <b th:if="${message.sender.id != user?.id}" th:text="${message.sender.displayName}">SENDER</b>
        <b th:if="${message.sender.id == user?.id}" th:text="#{page.message.you}">SENDER</b>
        <span>-</span>
        <span th:text="${message.createdAtMoment}">YYYY-MM-DD</span>
    </div>
    <div th:text="${message.body}">BODY</div>
</div>

<div class="conversation" th:fragment="conversation-bubble(message)">
    <div class="flex w-100">
        <img class="user-photo"
             th:src="${conversation.interlocutor.photoUrl} ? ${conversation.interlocutor.photoUrl} : '/image/no-photo.ong'"
        />
        <div class="margin-left w-100">
            <div class="flex flex-space-between">
                <b th:text="${conversation.lastMessage.sender.displayName}">NAME</b>
                <span th:text="${conversation.lastMessage.createdAtMoment}">YYYY-MM-DD</span>
            </div>
            <div class="flex flex-space-between">
                <div class="body" th:text="${conversation.lastMessage.body}">BODY</div>
                <div class="unread-messages padding-left-small">
                    <span class="badge rounded-pill bg-success"
                          th:if="${conversation.totalUnreadMessages > 0}"
                          th:text="${conversation.totalUnreadMessagesText}"
                    >00</span>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
