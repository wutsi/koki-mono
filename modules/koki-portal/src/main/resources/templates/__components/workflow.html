<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<span th:fragment="activity-type-icon(type)" th:if="${type}">
    <i class="fa-regular fa-circle" th:if="${type.name == 'START'}"></i>
    <i class="fa-regular fa-circle-dot" th:if="${type.name == 'END'}"></i>
    <i class="fa-solid fa-user" th:if="${type.name == 'USER'}"></i>
    <i class="fa-solid fa-hand" th:if="${type.name == 'MANUAL'}"></i>
    <i class="fa-solid fa-gear" th:if="${type.name == 'SERVICE'}"></i>

    <i class="fa-solid fa-envelope" th:if="${type.name == 'EMAIL'}"></i>
    <i class="fa-solid fa-cloud-arrow-up" th:if="${type.name == 'UPLOAD'}"></i>
</span>

<div th:fragment="workflow-status(status)" th:if="${status}">
    <i class="fa-solid fa-circle-check status-done" th:if="${status.name == 'DONE'}"></i>
    <span class="status-done" th:if="${status.name == 'DONE'}">Done</span>

    <i class="fa-solid fa-play status-running" th:if="${status.name == 'RUNNING'}"></i>
    <span class="status-running" th:if="${status.name == 'RUNNING'}">In Progress</span>

    <i class="fa-solid fa-circle-xmark status-cancelled" th:if="${status.name == 'CANCELLED'}"></i>
    <span class="status-cancelled" th:if="${status.name == 'CANCELLED'}">Cancelled</span>
</div>

<div class="widget" th:fragment="workflow-breadcrumb(workflow)">
    <div class="widget-body">
        <a href="/">Home</a>
        &gt;
        <a href="/settings">Settings</a>
        &gt;
        <a href="/workflows" th:if="${workflow}">Workflows</a>
        <span th:if="${workflow}">&gt;</span>
        <span th:if="${workflow}" th:text="${workflow.longTitle}">TITLE</span>
        <span th:if="!${workflow}">Workflows</span>
    </div>
</div>


<div th:fragment="approval-status(status)" th:if="${status}">
    <i class="fa-solid fa-spinner fa-spin status-pending" th:if="${status.name == 'PENDING'}"></i>
    <span class="status-pending" th:if="${status.name == 'PENDING'}">Pending</span>

    <i class="fa-solid fa-check status-done" th:if="${status.name == 'APPROVED'}"></i>
    <span class="status-done" th:if="${status.name == 'APPROVED'}">Approved</span>

    <i class="fa-solid fa-xmark status-rejected" th:if="${status.name == 'REJECTED'}"></i>
    <span class="status-rejected" th:if="${status.name == 'REJECTED'}">Rejected</span>
</div>

<div class="widget-toolbar" id="activity-toolbar-widget" th:fragment="activity-instance-toolbar(activityInstance)"
     th:if="${activityInstance.running} AND ${user} AND ${activityInstance.assignee?.id == user?.id}">

    <a class="btn btn-secondary btn-activity-user-edit-form"
       th:href="${activityInstance.activity.form.editUrl}"
       th:if="${activityInstance.activity.form} AND ${activityInstance.activity.type.name == 'USER'}"
    >
        Edit Form
    </a>

    <a class="btn btn-secondary btn-activity-manual-complete"
       onclick="return confirm('Are you sure you have complete this activity?')"
       th:href="${activityInstance.completeUrl}"
       th:if="${activityInstance.activity.type.name == 'MANUAL'}"
    >
        Complete the Activity
    </a>
</div>

<div class="widget" th:fragment="activity-instance-breadcrumb(activityInstance)">
    <div class="widget-body">
        <a href="/">Home</a>
        &gt;
        <a href="/workflows/instances">Instances</a>
        &gt;
        <a th:href="${activityInstance.workflowInstance.url}"
           th:text="${activityInstance.workflowInstance.title}">INSTANCE</a>
        &gt;
        <span th:text="${activityInstance.activity.longTitle}">TITLE</span>
    </div>
</div>

</body>
