<table class="table">
    <tr>
        <td width="1%"><b>Subject:</b></td>
        <td th:if="${message.owner}">
            <a th:href="${message.owner.url}">
                <div th:text="${message.owner.title}">TITLE</div>
                <img class="message-owner-image" th:src="${message.owner.imageUrl}"/>
            </a>
        </td>
    </tr>
    <tr>
        <td><b>From:</b></td>
        <td>
            <img align="absmiddle" class="margin-left-small"
                 th:if="${message.country}"
                 th:src="${message.countryFlag}"
            />
            <span th:text="${message.senderName}">SENDER</span>
        </td>
    </tr>
    <tr>
        <td colspan="2" th:text="${message.body}">BODY</td>
    </tr>
    <tr>
        <td colspan="2">
            <div class="flex flex-space-between">
                <div>
                    <a class="btn btn-light btn-whatsapp" target="_blank"
                       th:href="'/messages/' + ${message.id} + '/whatsapp'"
                       th:if="${message.senderPhone}"
                    >
                        <img height="24" th:src="${page.assetUrl} + '/image/social/whatsapp.png'" width="24"/>
                        Reply
                    </a>
                    <a class="btn btn-light btn-email" target="_blank"
                       th:href="'mailto:' + ${message.senderEmail}"
                    >
                        <img height="24" th:src="${page.assetUrl} + '/image/social/email.png'" width="24"/>
                        Reply
                    </a>
                </div>
                <div>
                    <button class="btn btn-light btn-archive"
                            th:if="!${message.archived}"
                            th:onclick="'kokiMessage.archive(' + ${message.id} + ')'"
                    >
                        Archive
                    </button>
                    <button class="btn btn-light btn-unarchive"
                            th:if="${message.archived}"
                            th:onclick="'kokiMessage.unarchive(' + ${message.id} + ')'"
                    >
                        Un-archive
                    </button>
                </div>
            </div>
        </td>
    </tr>
</table>

<div th:if="${testMode}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" rel="stylesheet"/>
    <link href="/css/koki.css" rel="stylesheet"/>
    <link href="/css/messages.css" rel="stylesheet"/>

    <script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/koki.js"></script>
    <script src="/js/messages.js"></script>
</div>

