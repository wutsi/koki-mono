<div id="listing-description-section" th:if="${listing.description}">
    <h4 th:text="#{page.listing.show.description}">NAME</h4>
    <div th:text="${listing.description}">VALUE</div>
    <hr/>
</div>

<div id="listing-general-section">
    <h4>
        <span th:text="#{page.listing.show.general}">GENERAL</span>
        <a class="text-small"
           th:href="'/listings/edit?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="flex flex-wrap">
        <div class="col-6 col-md-4 padding-bottom-small">
            <b class="text-small" th:text="#{page.listing.property-type}">KEY</b>
            <div th:text="#{'property-type.' + ${listing.propertyType}}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.bedrooms}">
            <b class="text-small" th:text="#{page.listing.bedrooms}">KEY</b>
            <div th:text="${listing.bedrooms}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.bathrooms}">
            <b class="text-small" th:text="#{page.listing.bathrooms}">KEY</b>
            <div th:text="${listing.bathrooms}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.halfBathrooms}">
            <b class="text-small" th:text="#{page.listing.half-bathrooms}">KEY</b>
            <div th:text="${listing.halfBathrooms}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.floors}">
            <b class="text-small" th:text="#{page.listing.floors}">KEY</b>
            <div th:text="${listing.floors}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.level}">
            <b class="text-small" th:text="#{page.listing.level}">KEY</b>
            <div th:text="${listing.level}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.unit}">
            <b class="text-small" th:text="#{page.listing.unit}">KEY</b>
            <div th:text="${listing.unit}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.basementType}">
            <b class="text-small" th:text="#{page.listing.basement}">KEY</b>
            <div th:text="#{'basement-type.' + ${listing.basementType}}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.propertyArea}">
            <b class="text-small" th:text="#{page.listing.property-area}">KEY</b>
            <div>
                <span th:text="${listing.propertyArea}">000</span>
                <span>m<sup>2</sup></span>
            </div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.lotArea}">
            <b class="text-small" th:text="#{page.listing.lot-area}">KEY</b>
            <div>
                <span th:text="${listing.lotArea}">000</span>
                <span>m<sup>2</sup></span>
            </div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.parkingType}">
            <b class="text-small" th:text="#{page.listing.parking-type}">KEY</b>
            <div th:text="#{'parking-type.' + ${listing.parkingType}}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.parkings}">
            <b class="text-small" th:text="#{page.listing.parkings}">KEY</b>
            <div th:text="${listing.parkings}">VALUE</div>
        </div>
        <div class="col-6 col-md-4 padding-bottom-small" th:if="${listing.fenceType}">
            <b class="text-small" th:text="#{page.listing.fence}">KEY</b>
            <div th:text="#{'fence-type.' + ${listing.fenceType}}">VALUE</div>
        </div>
        <div class="col-6 col-md-4  margin-bottom-small" th:if="${listing.year}">
            <b class="text-small" th:text="#{page.listing.year}">KEY</b>
            <div th:text="${listing.year}">VALUE</div>
        </div>
        <div class="col-6 col-md-4  margin-bottom-small" th:if="${listing.daysInMarket}">
            <b class="text-small" th:text="#{page.listing.days-in-market}">KEY</b>
            <div th:if="${listing.daysInMarket <= 1}" th:text="#{page.listing.days-in-market-today}">VALUE</div>
            <div th:if="${listing.daysInMarket > 1}">
                <span th:text="${listing.daysInMarket}">00</span>
                <span th:text="#{page.listing.days-in-market-suffix}">DAYS</span>
            </div>
        </div>
    </div>
    <hr/>
</div>

<div id="listing-amenity-section" th:if="!${amenityCategories.isEmpty()} OR ${listing.furnitureType}">
    <h4>
        <span th:text="#{page.listing.show.amenities}">GENERAL</span>
        <a class="text-small"
           th:href="'/listings/edit/amenities?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="row" th:if="${listing.furnitureType}">
        <div class="col-12 padding-bottom-small">
            <b class="text-small" th:text="#{page.listing.furniture-type}">KEY</b>
            <div th:text="#{'furniture-type.' + ${listing.furnitureType}}">FURNITURE</div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-md-4 padding-bottom"
             th:each="category : ${amenityCategories}"
             th:if="!${listing.amenitiesByCategoryId(category.id).isEmpty()}"
        >
            <b th:text="${category.name}">CATEGORY</b>
            <ul>
                <li th:each="amenity : ${listing.amenitiesByCategoryId(category.id)}"
                    th:text="${amenity.name}">
                    AMENITY
                </li>
            </ul>
        </div>
    </div>
    <hr/>
</div>

<div id="listing-address-section" th:if="${listing.address}">
    <h4>
        <span th:text="#{page.listing.show.address}">ADDRESS</span>
        <a class="text-small"
           th:href="'/listings/edit/address?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="row" th:if="${listing.furnitureType}">
        <div class="col-12 padding-bottom-small" th:utext="${listing.address.toHtml(true)}">COUNTRY</div>
    </div>
    <hr/>
</div>

<div id="listing-remarks-section" th:if="${listing.publicRemarks} OR ${listing.agentRemarks}">
    <h4 th:text="#{page.listing.show.remarks}">
        <span th:text="#{page.listing.show.remarks}">REMARKS</span>
        <a class="text-small"
           th:href="'/listings/edit/remarks?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div>
        <div class="margin-bottom-small">
            <b class="text-small" th:text="#{page.listing.public-remarks}">KEY</b>
            <div>
                <span th:if="${listing.publicRemarks}" th:text="${listing.publicRemarks}">VALE</span>
                <i th:if="!${listing.publicRemarks}" th:text="#{page.listing.show.no-remark}">NONE</i>
            </div>
        </div>
        <div class="margin-bottom-small">
            <b class="text-small" th:text="#{page.listing.agent-remarks}">KEY</b>
            <div>
                <span th:if="${listing.agentRemarks}" th:text="${listing.agentRemarks}">VALE</span>
                <i th:if="!${listing.agentRemarks}" th:text="#{page.listing.show.no-remark}">NONE</i>
            </div>
        </div>
    </div>
    <hr/>
</div>

<div id="listing-price-section">
    <h4>
        <span th:text="#{page.listing.show.price}">PRICE</span>
        <a class="text-small"
           th:href="'/listings/edit/price?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="flex flex-wrap">
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.price}">
            <b class="text-small" th:if="${listing.listingType.name == 'RENTAL'}"
               th:text="#{page.listing.rental-price}">KEY</b>
            <b class="text-small" th:if="${listing.listingType.name != 'RENTAL'}"
               th:text="#{page.listing.price}">KEY</b>
            <div>
                <span th:text="${listing.price}">00</span>
                <span th:if="${listing.listingType.name == 'RENTAL'}"
                      th:text="#{page.listing.rental-price-suffix}">00</span>
            </div>
        </div>
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.price}">
            <b class="text-small" th:text="#{page.listing.visit-fees}">KEY</b>
            <div>
                <span th:text="${listing.visitFees}">00</span>
            </div>
        </div>
        <div class="col-6 col-md-4" id="seller-agent-commission"
             th:if="${listing.sellerAgentCommission} AND ${listing.canManage(user)}">
            <b class="text-small" th:text="#{page.listing.seller-agent-commission}">KEY</b>
            <div>
                <span th:text="${listing.sellerAgentCommission}">0.0</span>
                <span>%</span>
            </div>
        </div>
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.buyerAgentCommission}">
            <b class="text-small" th:text="#{page.listing.buyer-agent-commission}">KEY</b>
            <div>
                <span th:text="${listing.buyerAgentCommission}">0.0</span>
                <span>%</span>
            </div>
        </div>
    </div>
    <hr/>
</div>

<div id="listing-leasing-section" th:if="${listing.listingTypeRental}">
    <h4>
        <span th:text="#{page.listing.show.leasing}">LEASING</span>
        <a class="text-small"
           th:href="'/listings/edit/leasing?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="flex flex-wrap">
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.leaseTerm}">
            <b class="text-small" th:text="#{page.listing.lease-terms}">KEY</b>
            <div>
                <span th:text="${listing.leaseTerm}">00</span>
                <span th:text="#{page.listing.unit-months}">00</span>
            </div>
        </div>
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.advanceRent}">
            <b class="text-small" th:text="#{page.listing.advance-rent}">KEY</b>
            <div>
                <span th:text="${listing.advanceRent}">00</span>
                <span th:text="#{page.listing.unit-months}">00</span>
            </div>
        </div>
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.securityDeposit}">
            <b class="text-small" th:text="#{page.listing.security-deposit}">KEY</b>
            <div th:text="${listing.securityDeposit}">$$$</div>
        </div>
        <div class="col-6 col-md-4 margin-bottom-small" th:if="${listing.noticePeriod}">
            <b class="text-small" th:text="#{page.listing.notice-period}">KEY</b>
            <div>
                <span th:text="${listing.noticePeriod}">00</span>
                <span th:text="#{page.listing.unit-months}">00</span>
            </div>
        </div>
    </div>
    <hr/>
</div>

<div id="listing-seller-section" th:if="${listing.canManage(user)}">
    <h4>
        <span th:text="#{page.listing.show.seller}">SELLER</span>
        <a class="text-small"
           th:href="'/listings/edit/seller?id=' + ${listing.id}"
           th:if="${listing.canManage(user)}"
           th:text="#{button.edit}"
        >EDIT</a>
    </h4>
    <div class="margin-bottom-small" th:if="${listing.sellerName}">
        <b class="text-small" th:text="#{page.listing.seller}">KEY</b>
        <div th:text="${listing.sellerName}">RAY</div>
        <div th:if="${listing.sellerEmail}" th:text="${listing.sellerEmail}">EMAIL</div>
        <div th:if="${listing.sellerPhone}" th:text="${listing.sellerPhone}">PHONE</div>
    </div>
</div>
